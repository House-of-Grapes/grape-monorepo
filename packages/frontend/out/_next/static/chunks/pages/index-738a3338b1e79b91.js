(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4989:function(t){t.exports=function(){"use strict";var t,r,e=1e3,n=6e4,i=36e5,s=864e5,o=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,a=31536e6,u=2592e6,c=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,l={years:a,months:u,days:s,hours:i,minutes:n,seconds:e,milliseconds:1,weeks:6048e5},h=function(t){return t instanceof w},f=function(t,r,e){return new w(t,e,r.$l)},d=function(t){return r.p(t)+"s"},m=function(t){return t<0},v=function(t){return m(t)?Math.ceil(t):Math.floor(t)},g=function(t){return Math.abs(t)},$=function(t,r){return t?m(t)?{negative:!0,format:""+g(t)+r}:{negative:!1,format:""+t+r}:{negative:!1,format:""}},w=function(){function m(t,r,e){var n=this;if(this.$d={},this.$l=e,void 0===t&&(this.$ms=0,this.parseFromMilliseconds()),r)return f(t*l[d(r)],this);if("number"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if("object"==typeof t)return Object.keys(t).forEach((function(r){n.$d[d(r)]=t[r]})),this.calMilliseconds(),this;if("string"==typeof t){var i=t.match(c);if(i){var s=i.slice(2).map((function(t){return null!=t?Number(t):0}));return this.$d.years=s[0],this.$d.months=s[1],this.$d.weeks=s[2],this.$d.days=s[3],this.$d.hours=s[4],this.$d.minutes=s[5],this.$d.seconds=s[6],this.calMilliseconds(),this}}return this}var g=m.prototype;return g.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce((function(r,e){return r+(t.$d[e]||0)*l[e]}),0)},g.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=v(t/a),t%=a,this.$d.months=v(t/u),t%=u,this.$d.days=v(t/s),t%=s,this.$d.hours=v(t/i),t%=i,this.$d.minutes=v(t/n),t%=n,this.$d.seconds=v(t/e),t%=e,this.$d.milliseconds=t},g.toISOString=function(){var t=$(this.$d.years,"Y"),r=$(this.$d.months,"M"),e=+this.$d.days||0;this.$d.weeks&&(e+=7*this.$d.weeks);var n=$(e,"D"),i=$(this.$d.hours,"H"),s=$(this.$d.minutes,"M"),o=this.$d.seconds||0;this.$d.milliseconds&&(o+=this.$d.milliseconds/1e3);var a=$(o,"S"),u=t.negative||r.negative||n.negative||i.negative||s.negative||a.negative,c=i.format||s.format||a.format?"T":"",l=(u?"-":"")+"P"+t.format+r.format+n.format+c+i.format+s.format+a.format;return"P"===l||"-P"===l?"P0D":l},g.toJSON=function(){return this.toISOString()},g.format=function(t){var e=t||"YYYY-MM-DDTHH:mm:ss",n={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return e.replace(o,(function(t,r){return r||String(n[t])}))},g.as=function(t){return this.$ms/l[d(t)]},g.get=function(t){var r=this.$ms,e=d(t);return"milliseconds"===e?r%=1e3:r="weeks"===e?v(r/l[e]):this.$d[e],0===r?0:r},g.add=function(t,r,e){var n;return n=r?t*l[d(r)]:h(t)?t.$ms:f(t,this).$ms,f(this.$ms+n*(e?-1:1),this)},g.subtract=function(t,r){return this.add(t,r,!0)},g.locale=function(t){var r=this.clone();return r.$l=t,r},g.clone=function(){return f(this.$ms,this)},g.humanize=function(r){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!r)},g.milliseconds=function(){return this.get("milliseconds")},g.asMilliseconds=function(){return this.as("milliseconds")},g.seconds=function(){return this.get("seconds")},g.asSeconds=function(){return this.as("seconds")},g.minutes=function(){return this.get("minutes")},g.asMinutes=function(){return this.as("minutes")},g.hours=function(){return this.get("hours")},g.asHours=function(){return this.as("hours")},g.days=function(){return this.get("days")},g.asDays=function(){return this.as("days")},g.weeks=function(){return this.get("weeks")},g.asWeeks=function(){return this.as("weeks")},g.months=function(){return this.get("months")},g.asMonths=function(){return this.as("months")},g.years=function(){return this.get("years")},g.asYears=function(){return this.as("years")},m}();return function(e,n,i){t=i,r=i().$utils(),i.duration=function(t,r){var e=i.locale();return f(t,{$l:e},r)},i.isDuration=h;var s=n.prototype.add,o=n.prototype.subtract;n.prototype.add=function(t,r){return h(t)&&(t=t.asMilliseconds()),s.bind(this)(t,r)},n.prototype.subtract=function(t,r){return h(t)&&(t=t.asMilliseconds()),o.bind(this)(t,r)}}}()},3255:function(t,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(416)}])},416:function(t,r,e){"use strict";e.r(r),e.d(r,{default:function(){return R}});var n=e(2322),i=e(8879),s=e.n(i),o=e(2784),a=e(9102),u=function(){var t=(0,a.O)(),r=t.claimingInterval,e=t.lastClaimed,n=t.fetchData,i=(0,o.useMemo)((function(){return e&&r&&e.add(r,"s")}),[r,e]),u=(0,o.useState)(0),c=u[0],l=u[1],h=(0,o.useRef)(null);return(0,o.useEffect)((function(){return i&&(h.current=setInterval((function(){var t=i.diff(s()());t>0?l(t):clearInterval(h.current)}),1e3)),function(){clearInterval(h.current)}}),[i]),(0,o.useEffect)((function(){c<=0&&(n(),clearInterval(h.current))}),[c]),{diff:c}},c=e(4989),l=e.n(c);s().extend(l());var h=function(){var t=u().diff;if(!t)return null;var r=s().duration(t),e=r.minutes(),i=r.hours(),o=r.seconds();return(0,n.jsx)("div",{children:(0,n.jsxs)("h2",{children:[i,":",e,":",o]})})},f=e(9306),d=e(403),m=e(2021),v=e.n(m),g=e(3834),$=e(528);function w(t,r,e,n,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void e(c)}a.done?r(u):Promise.resolve(u).then(n,i)}var p=function(t){var r,e=(0,o.useState)($.O$.from("0")),n=e[0],i=e[1],s=(0,f.$)(),a=s.chainId,u=s.standardProvider,c=s.selectedAccount,l=(0,d.Kn)(a,t),h=t===d.a3.GrapeToken?g.P0:g._3,m=(0,o.useMemo)((function(){return h.connect(l,u)}),[l,u]),p=(r=v().mark((function t(){var r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i($.O$.from("0")),t.prev=1,t.next=4,m.balanceOf(c);case 4:r=t.sent,i(r),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})),function(){var t=this,e=arguments;return new Promise((function(n,i){var s=r.apply(t,e);function o(t){w(s,n,i,o,a,"next",t)}function a(t){w(s,n,i,o,a,"throw",t)}o(void 0)}))});return(0,o.useEffect)((function(){m&&c&&p()}),[Boolean(m),c]),n},x=function(){return p(d.a3.GrapeToken)},b=function(){return p(d.a3.StakingToken)},y=e(5398),_=e(7036),S=e(3958);const E=new _.Yd(S.i),k={},F=$.O$.from(0),O=$.O$.from(-1);function M(t,r,e,n){const i={fault:r,operation:e};return void 0!==n&&(i.value=n),E.throwError(t,_.Yd.errors.NUMERIC_FAULT,i)}let N="0";for(;N.length<256;)N+=N;function A(t){if("number"!==typeof t)try{t=$.O$.from(t).toNumber()}catch(r){}return"number"===typeof t&&t>=0&&t<=256&&!(t%1)?"1"+N.substring(0,t):E.throwArgumentError("invalid decimal size","decimals",t)}function Y(t,r){null==r&&(r=0);const e=A(r),n=(t=$.O$.from(t)).lt(F);n&&(t=t.mul(O));let i=t.mod(e).toString();for(;i.length<e.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(e).toString();return t=1===e.length?s:s+"."+i,n&&(t="-"+t),t}function T(t,r){null==r&&(r=0);const e=A(r);"string"===typeof t&&t.match(/^-?[0-9.]+$/)||E.throwArgumentError("invalid decimal value","value",t);const n="-"===t.substring(0,1);n&&(t=t.substring(1)),"."===t&&E.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&E.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");"0"===o[o.length-1];)o=o.substring(0,o.length-1);for(o.length>e.length-1&&M("fractional component exceeds decimals","underflow","parseFixed"),""===o&&(o="0");o.length<e.length-1;)o+="0";const a=$.O$.from(s),u=$.O$.from(o);let c=a.mul(e).add(u);return n&&(c=c.mul(O)),c}class j{constructor(t,r,e,n){t!==k&&E.throwError("cannot use FixedFormat constructor; use FixedFormat.from",_.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=e,this.decimals=n,this.name=(r?"":"u")+"fixed"+String(e)+"x"+String(n),this._multiplier=A(n),Object.freeze(this)}static from(t){if(t instanceof j)return t;"number"===typeof t&&(t=`fixed128x${t}`);let r=!0,e=128,n=18;if("string"===typeof t)if("fixed"===t);else if("ufixed"===t)r=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||E.throwArgumentError("invalid fixed format","format",t),r="u"!==i[1],e=parseInt(i[2]),n=parseInt(i[3])}else if(t){const i=(r,e,n)=>null==t[r]?n:(typeof t[r]!==e&&E.throwArgumentError("invalid fixed format ("+r+" not "+e+")","format."+r,t[r]),t[r]);r=i("signed","boolean",r),e=i("width","number",e),n=i("decimals","number",n)}return e%8&&E.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",e),n>80&&E.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new j(k,r,e,n)}}class P{constructor(t,r,e,n){E.checkNew(new.target,P),t!==k&&E.throwError("cannot use FixedNumber constructor; use FixedNumber.from",_.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=r,this._value=e,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&E.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=T(this._value,this.format.decimals),e=T(t._value,t.format.decimals);return P.fromValue(r.add(e),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=T(this._value,this.format.decimals),e=T(t._value,t.format.decimals);return P.fromValue(r.sub(e),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=T(this._value,this.format.decimals),e=T(t._value,t.format.decimals);return P.fromValue(r.mul(e).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=T(this._value,this.format.decimals),e=T(t._value,t.format.decimals);return P.fromValue(r.mul(this.format._multiplier).div(e),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");1===t.length&&t.push("0");let r=P.from(t[0],this.format);const e=!t[1].match(/^(0*)$/);return this.isNegative()&&e&&(r=r.subUnsafe(U.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");1===t.length&&t.push("0");let r=P.from(t[0],this.format);const e=!t[1].match(/^(0*)$/);return!this.isNegative()&&e&&(r=r.addUnsafe(U.toFormat(r.format))),r}round(t){null==t&&(t=0);const r=this.toString().split(".");if(1===r.length&&r.push("0"),(t<0||t>80||t%1)&&E.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const e=P.from("1"+N.substring(0,t),this.format),n=D.toFormat(this.format);return this.mulUnsafe(e).addUnsafe(n).floor().divUnsafe(e)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(t){if(null==t)return this._hex;t%8&&E.throwArgumentError("invalid byte width","width",t);const r=$.O$.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return(0,y.$m)(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return P.fromString(this._value,t)}static fromValue(t,r,e){return null!=e||null==r||(0,$.Zm)(r)||(e=r,r=null),null==r&&(r=0),null==e&&(e="fixed"),P.fromString(Y(t,r),j.from(e))}static fromString(t,r){null==r&&(r="fixed");const e=j.from(r),n=T(t,e.decimals);!e.signed&&n.lt(F)&&M("unsigned value cannot be negative","overflow","value",t);let i=null;e.signed?i=n.toTwos(e.width).toHexString():(i=n.toHexString(),i=(0,y.$m)(i,e.width/8));const s=Y(n,e.decimals);return new P(k,i,s,e)}static fromBytes(t,r){null==r&&(r="fixed");const e=j.from(r);if((0,y.lE)(t).length>e.width/8)throw new Error("overflow");let n=$.O$.from(t);e.signed&&(n=n.fromTwos(e.width));const i=n.toTwos((e.signed?0:1)+e.width).toHexString(),s=Y(n,e.decimals);return new P(k,i,s,e)}static from(t,r){if("string"===typeof t)return P.fromString(t,r);if((0,y._t)(t))return P.fromBytes(t,r);try{return P.fromValue(t,0,r)}catch(e){if(e.code!==_.Yd.errors.INVALID_ARGUMENT)throw e}return E.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!(!t||!t._isFixedNumber)}}const U=P.from(1),D=P.from("0.5"),I=(new _.Yd("units/5.5.0"),["wei","kwei","mwei","gwei","szabo","finney","ether"]);function C(t){return function(t,r){if("string"===typeof r){const t=I.indexOf(r);-1!==t&&(r=3*t)}return Y(t,null!=r?r:18)}(t,18)}var H=function(t){return C(t)},R=function(){var t=(0,f.$)(),r=t.connect,e=t.selectedAccount,i=t.isConnected,s=t.isCorrectChain,o=(0,a.O)(),u=o.isEllible,c=o.harvestAmount,l=o.lastClaimed,d=o.isClaiming,m=o.claimTokens,v=o.isLoading,g=x(),$=b();return(0,n.jsxs)("div",{children:[!i&&(0,n.jsx)("button",{onClick:r,children:"Connect"}),(0,n.jsxs)("div",{children:["Balance: ",H(g)]}),(0,n.jsxs)("div",{children:["Staked: ",H($)]}),(0,n.jsxs)("div",{children:["isEllible: ",u.toString()]}),(0,n.jsxs)("div",{children:["can harvest: ",u&&H(c)]}),(0,n.jsxs)("div",{children:["lastClaimed ",l&&l.format()]}),(0,n.jsx)("div",{children:v?"LOADING.......":""}),(0,n.jsx)(h,{}),u&&(0,n.jsxs)("button",{onClick:function(){return m()},children:["Claim! ",d?"....":""]}),!s&&(0,n.jsx)("div",{children:"Wrong chain"}),e]})}}},function(t){t.O(0,[774,888,179],(function(){return r=3255,t(t.s=r);var r}));var r=t.O();_N_E=r}]);